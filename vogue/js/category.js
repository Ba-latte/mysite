// ë³´ê·¸ PJ ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ JS - category.js //////

// ğŸŒ·1.ë„˜ì–´ì˜¨ url ë°›ê¸° : ë„˜ì–´ì˜¨ urlì€ ë¡œë”©êµ¬ì—­ ë°–ì—ì„œ ë°›ì•„ë„ ëœë‹¤!
let pm = location.href;
// : location.hrefì´ ì´í€„(=)ì˜ ì˜¤ë¥¸ìª½ì— ìˆìœ¼ë©´ urlì£¼ì†Œë¥¼ ì½ì–´ì˜¨ë‹¤!
// : ì—¬ê¸°ì„œ "pm"ì€ parameterì˜ ì¤„ì„ë§ë¡œ ì“°ì…¨ìŒ~ (ì „ë‹¬ê°’ ë³€ìˆ˜ ì˜ë¯¸!)

// 2.ë¬¸ìì—´ ì˜ë¼ì„œ ê°’ìœ¼ë¡œ ì½ì–´ì˜¤ê¸°
// : ìœ„ì— let pmì— í• ë‹¹í• ë•Œ hrefì˜ ë°”ë¡œ ë’¤ì—ì„œ... split()ì„ ì¨ì„œ ì˜ë¼ì„œ ì“¸ ìˆ˜ëŠ” ì—†ìŒ!
// : ë¬¼ìŒí‘œë¡œ ì˜ë¼ì„œ ë‘ë²ˆì§¸ ê°’, ì´í€„ë¡œ ì˜ë¼ì„œ ë‘ë²ˆì§¸ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ê²ƒì„
pm = pm.split("?")[1].split("=")[1];

// 3.pmê°’ íŠ¹ìˆ˜ë¬¸ì ë³µì›í•˜ê¸° : ë””ì½”ë”©í•˜ê¸°!
pm = decodeURIComponent(pm);

// 4.í˜¸ì¶œí™•ì¸
console.log(pm);


////////////////////////////////////// ë¡œë”© êµ¬ì—­ ////////////////////////////////////////
window.addEventListener("DOMContentLoaded", loadFn);

////////////////////////// ë¡œë“œ í•¨ìˆ˜ //////////////////////////////
function loadFn(){

    console.log("ë¡œë”©ì™„ë£Œ!");

    // ğŸŒˆ1. ë³€ê²½ ëŒ€ìƒ ì„ ì •
    // (1) ì„œë¸Œ íƒ€ì´í‹€
    const stit = document.querySelector(".stit");
    // (2) ì„œë¸Œ ë©”ë‰´
    const lnb = document.querySelector(".lnb");
    // (3) ë‚´ìš© íƒ€ì´í‹€
    const contit = document.querySelectorAll(".icont h2");
    // (4) ì»¨í…ì¸  ìƒìœ„ ë°•ìŠ¤(ì¹´í…Œê³ ë¦¬ í´ë˜ìŠ¤ ë„£ê¸°)
    const cont = document.querySelector(".cont");
    // (5) titleìš”ì†Œ (íƒ€ì´í‹€ ë‚´ìš©ì— ì¹´í…Œê³ ë¦¬ëª…ì„ ì•ì—ë‹¤ê°€ ë„£ê¸°)
    const titag = document.querySelector("title");

    // console.log(stit, lnb, contit, cont, titag);

    // 2. ë©”ë‰´ ë°ì´í„° (sinfo ë³€ìˆ˜)ê°ì²´ì—ì„œ ì¹´í…Œê³ ë¦¬ê°’ ì„ íƒí•˜ê¸°
    const mdata = sinfo[pm];

    console.log(mdata);

    // 3. ëŒ€ìƒì— ë³€ê²½ ì ìš©í•˜ê¸°
    // (1) ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ íƒ€ì´í‹€ ë„£ê¸°
    // ëŒ€ìƒ : .stit -> stit ë³€ìˆ˜
    stit.innerText = mdata["ì œëª©"];
    // ìœ„ì˜ ëª¨ì–‘ì€ ë‹¤ë¥¸ ë° ë“¤ì–´ê°€ ìˆì„ ë–„ì—ëŠ” ë³„ë£¨~
    // stit.innerText = mdata["ì œëª©"];

    // (2) lnb ë©”ë‰´ ë„£ê¸°
    // ëŒ€ìƒ : .lnb -> lnbë³€ìˆ˜
    // ì½”ë“œ ë„£ê¸° : <ul><li><a href="#">ë©”ë‰´</a></li></ul>
    // ì¡°ê±´ : mdata["ë©”ë‰´"] ê°’ì´ "ì—†ìŒ"dlaus lnbë¥¼ ì§€ìš°ê³ , ì•„ë‹ˆë©´ ë°°ì—´ê°’ìœ¼ë¡œ ë©”ë‰´ê°€ ìˆìœ¼ë¯€ë¡œ, ë°°ì—´ë§Œí¼ ìœ„ì˜ ul>li>a ì½”ë“œë¥¼ ë„£ì–´ì¤€ë‹¤!

    // ë©”ë‰´ê°’ ë‹´ê¸°
    let mvalue = mdata["ë©”ë‰´"];
    
    if(mvalue === "ì—†ìŒ"){
        lnb.remove();
        // : lnb íƒœê·¸ë¥¼ ì œê±°í•˜ëŠ” ê²ƒì„! (remove())
    }
    else{ // ë©”ë‰´ê°€ ë°°ì—´ì— ìˆìŒ!
        let temp = "<ul>";
        // ì„ì‹œ ë³€ìˆ˜ ë§Œë“¤ê¸° : ë‹´ì•„ë‘˜ ê³µê°„ ë§Œë“¤ì–´ ë‘ëŠ” ê²ƒì„

        // ë©”ë‰´ ë°°ì—´ë§Œí¼ ëŒì•„ì„œ ì½”ë“œ ìƒì„±í•˜ê¸°
        mvalue.forEach((val)=>{ // valì€ ë°°ì—´ê°’!
            temp += `
                <li>
                    <a href ="#">${val}</a>
                </li>
            `;
        }); ///////////////////// forEach() ë¬¸ ë ///////////////////////

        temp += "</ul>";

        // lnb ë°•ìŠ¤ì— html ë„£ê¸°!
        lnb.innerHTML = temp;
    }

    // (3) ë‚´ìš© íƒ€ì´í‹€ ë„£ê¸° : contit ë³€ìˆ˜
    // - h2 ê°œìˆ˜ ë§Œí¼ ìˆœë²ˆëŒ€ë¡œ mdata["íƒ€ì´í‹€"][ìˆœë²ˆ]
    // - h2 ëŒë¦´ ë•Œ for ofë§ê³  forEach()ë©”ì„œë“œë¡œ ì‚¬ìš©í• ê²ƒì„!
    // forEach((ìš”ì†Œ, ìˆœë²ˆ, ë°°ì—´ì „ì²´)=>{ì½”ë“œ});
    contit.forEach((ele, idx)=>{
        ele.innerHTML = mdata["íƒ€ì´í‹€"][idx];
    }); ////////////////////// forEach() ë //////////////////////////

    // (4) ì»¨í…ì¸  ë°•ìŠ¤ì— pmê³¼ ê°™ì€ ì´ë¦„ì˜ class ë„£ê¸°
    cont.classList.add(mdata["ê²½ë¡œ"]);
    // "ê²½ë¡œ"ì†ì„±ì˜ ê°’ì´ ì‹¤ì œ í´ë˜ìŠ¤ëª…ê³¼ ì¼ì¹˜í•¨!

    // ì•„ë˜ì²˜ëŸ¼ ì¨ë„ ë¨
    // cont.classList.add(pm.replace(" & ", "-"));
    // replace(ë°”ë€” ê°’, ë°”ê¿€ ê°’);


    // (5) íƒ­ë©”ë‰´ ì¶œë ¥ titleìš”ì†Œ ë°ì´í„° ë„£ê¸°
    // ê¸°ì¡´ ê°’ì„ ì‚´ë ¤ì„œ, ê¸°ì¡´ ê°’ì˜ ì•ì— "ì œëª©" ì†ì„±ê°’ì„ ë„£ì–´ì¤€ë‹¤!
    // ëŒ€ìƒ : titleìš”ì†Œ -> titagë³€ìˆ˜
    titag.innerText = mdata["ì œëª©"] + titag.innerText;


    
} //////////////////////// loadFn í•¨ìˆ˜ ë ///////////////////////